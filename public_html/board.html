<!doctype html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Red Rose' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css'>

    <!-- Title -->
    <title>Play Nard Online</title>

    <!-- Styles -->
    <link rel="stylesheet" href="styles/start.css">
    <link rel="stylesheet" href="styles/game.css">
    
    <!-- Bootstrap-->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->


</head>
 

<body>

    <div id="board">

        <div class="vertical">
            <div class="field top" id="24"></div>
            <div class="field bottom" id="1"></div>
        </div>

        <div class="vertical">
            <div class="field top" id="23"></div>
            <div class="field bottom" id="2"></div>
        </div>

        <div class="vertical">
            <div class="field top" id="22"></div>
            <div class="field bottom" id="3"></div>
        </div>

        <div class="vertical">
            <div class="field top" id="21"></div>
            <div class="field bottom" id="4"></div>
        </div>

        <div class="vertical">
            <div class="field top" id="20"></div>
            <div class="field bottom" id="5"></div>
        </div>

        <div class="vertical">
            <div class="field top" id="19"></div>
            <div class="field bottom" id="6"></div>
        </div>

        <div id="middle_side">
            <div class="field middle" id="0"></div>
        </div>

        <div class="vertical">
            <div class="field top" id="18"></div>
            <div class="field bottom" id="7"></div>
        </div>

        <div class="vertical">
            <div class="field top" id="17"></div>
            <div class="field bottom" id="8"></div>
        </div>

        <div class="vertical">
            <div class="field top" id="16"></div>
            <div class="field bottom" id="9"></div>
        </div>

        <div class="vertical">
            <div class="field top" id="15"></div>
            <div class="field bottom" id="10"></div>
        </div>

        <div class="vertical">
            <div class="field top" id="14"></div>
            <div class="field bottom" id="11"></div>
        </div>

        <div class="vertical">
            <div class="field top" id="13"></div>
            <div class="field bottom" id="12"></div>
        </div>

        <div id="horizontal">
            
            <div class="hint" id="hint">your turn</div>
                
            <div id="diceBox">
                <div class=die id="die3" result=""></div>
                <div class=die id="die1" result=""></div>
                <div class=die id="die2" result=""></div>
                <div class=die id="die4" result=""></div>
            </div>
        
        </div>
    
    </div>



    <!--
        
        Chat
        
        <div class="chet" id="chet">
            <form id="chat-form" style="bottom: 0px; position: absolute;">
                <input id="chat-input">
                <button id="chat-send">Send</button>
            </form>
        </div>
    -->






<!-- 
    <audio preload="auto" id="pop-1" >
        <source src="http://adrianpayne.me/game/assets/sounds/pop1.mp3"></source>
          Your browser says no sound for you :(
      </audio>
      <audio preload="auto" id="pop-2" >
        <source src="http://adrianpayne.me/game/assets/sounds/pop2.mp3"></source>
      </audio>
      <audio preload="auto" id="gemfind" >
    <source src="http://adrianpayne.me/game/assets/sounds/gem.mp3"></source>
      </audio>
 -->




  <!-- <div class="test"></div> -->




    <!-- <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script> -->

    <!-- Peer.js -->
    <!-- <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script> -->

    <!-- Socket.io -->
    <!-- <script src="/socket.io/socket.io.js"></script> -->

    <!-- Drag'n'drop. See: https://github.com/Bernardo-Castilho/dragdroptouch -->
    <!-- <script src="src/DragDropTouch.js"></script> -->
    
    <!-- My scripts -->

    <!-- Render the checkers -->
    <script>
        // the board with a starting position
        var board = {
            1: 15,
            2: 0,
            3: 0,
            4: 0,
            5: 0,
            6: 0,
            7: 0,
            8: 0,
            9: 0,
            10: 0,
            11: 0,
            12: 0,
            13: -15,
            14: 0,
            15: 0,
            16: 0,
            17: 0,
            18: 0,
            19: 0,
            20: 0,
            21: 0,
            22: 0,
            23: 0,
            24: 0
        };
        
        // // Middle of the game
        // var board = {
        //     1: 5,
        //     2: -2,
        //     3: 2,
        //     4: -2,
        //     5: 2,
        //     6: 1,
        //     7: 0,
        //     8: 0,
        //     9: -1,
        //     10: 0,
        //     11: 0,
        //     12: 0,
        //     13: -5,
        //     14: 2,
        //     15: 0,
        //     16: 1,
        //     17: 0,
        //     18: -1,
        //     19: 1,
        //     20: -2,
        //     21: 0,
        //     22: -1,
        //     23: 0,
        //     24: -1
        // };

        // // Bearing off
        // var board = {
        //     1: 0,
        //     2: -2,
        //     3: 0,
        //     4: -2,
        //     5: 0,
        //     6: 0,
        //     7: 0,
        //     8: 0,
        //     9: -1,
        //     10: 0,
        //     11: 0,
        //     12: 0,
        //     13: -5,
        //     14: 0,
        //     15: 0,
        //     16: 0,
        //     17: 0,
        //     18: -1,
        //     19: 5,
        //     20: -2,
        //     21: 3,
        //     22: -1,
        //     23: 7,
        //     24: -1
        // };

        var CHECKEROVERLAP = 5.5;

        // Place one checker at certain field by id
        function createChecker(id, color) {
            let field = document.getElementById(id);
            let checker = document.createElement('checker');   // Create a checker

            // checker.setAttribute('draggable', 'true');    // make it draggable
            // checker.classList.add('draggable');
            // checker.classList.add('hvr-grow');    // hvr-ripple-out
            checker.setAttribute('color', color);
            // checker.style.visibility = "visible"
            let checkersInField = field.children.length;
            if (field.classList.contains('top')) {
                checker.setAttribute('style', `top: calc(${checkersInField} * ${CHECKEROVERLAP}%);`);
            } else {
                checker.setAttribute('style', `bottom: calc(${checkersInField} * ${CHECKEROVERLAP}%);`);
            };
            field.appendChild(checker);    // Place checker inside the field
            // board[id] += color;
        };

        // Render checkers
        function renderCheckers(board) {
            Object.entries(board).forEach((field) => {
                for (let i = 0; i < Math.abs(field[1]); i++) {
                    createChecker(field[0], Math.sign(field[1]));
                };
            });
        };
        renderCheckers(board);

    </script>

    <!-- Dice roll -->
    <script>
        var die3;
        var die1;
        var die2;
        var die4;

        function getDice() {
            die3 = die4 = (die1 === die2) ? die1 : undefined;
            let dice = [die1, die2, die3, die4].filter((die) => {
                return Boolean(die);
            });
            return dice;
        };

        function renderDice() {
            let dice = getDice();
            document.getElementById('die1').setAttribute('result', die1);
            document.getElementById('die2').setAttribute('result', die2);
            document.getElementById('die3').setAttribute('result', die3);
            document.getElementById('die4').setAttribute('result', die4);
        };

        function rollDice() {
            die1 = Math.floor(Math.random() * 6) + 1;
            die2 = Math.floor(Math.random() * 6) + 1;
            
            // /////////////////
            // // IN DEVELOP ////
            // /////////////////
            // [die1, die2] = [3, 3];
            // ////////////////////
            
            
            renderDice();
        }

        rollDice();
        // Roll dice till they show different results
        // while (this.die1 == this.die2) this.rollDice();




    </script>

    <script src="src/utils.js" defer></script>
    <script src="src/moving.js" defer></script>
    <!-- <script type="module" src="src/client.js" defer></script> -->

</body>
</html>